/**
 * This file contains the remote getter and setter functions for the device.
 *
 * NOTICE: Auto-generated from the device's yaml file, do not edit manually!
 */
#pragma once

inline void emptyGetter(Data &data) {}

inline void emptySetter(const Data &data) {}

{% for object in objects %}
{% for subobject in object.get_subobjects %}
{% if object.remote %}
{% if subobject.get != "none"%}
inline void get{{subobject.cpp_instance_name}}(Data &data) {
    data.{{subobject.type_code}} = {{subobject.get}}();
}
{% endif %}
{% if subobject.set != "none"%}
inline void set{{subobject.cpp_instance_name}}(const Data &data) {
    {{subobject.set}}(data.{{subobject.type_code}});
}
{% endif %}
{% if subobject.data.access in ['ro', 'rw'] and subobject.data.data.attribute %}
inline void set{{subobject.cpp_instance_name}}(const Data &data) {
    {{subobject.data.data.attribute}} = {% if 'enum' in subobject.data.data and subobject.data.data.enum.class %}({{subobject.data.data.enum.class}}){% endif %}data.{{subobject.type_code}};
}
{% endif %}
{% if subobject.data.access in ['wo', 'rw'] and subobject.data.data.attribute %}
inline void get{{subobject.cpp_instance_name}}(Data &data) {
    data.{{subobject.type_code}} = {{subobject.data.data.attribute}};
}
{% endif %}
{% endif %}
{% endfor %}
{% endfor %}

void (*remoteGetter[{{ subindex_count }}])(Data &data) = {
    {% for object in objects %}
    {% for subobject in object.get_subobjects %}
    {% if (subobject.data.access in ['ro', 'rw'] and subobject.data.data.attribute or subobject.get) != "none" and object.remote %}
    &get{{subobject.cpp_instance_name}},
    {%else%}
    emptyGetter,
    {% endif %}
    {% endfor %}
    {% endfor %}
};

void (*remoteSetter[{{ subindex_count }}])(const Data &data) = {
    {% for object in objects %}
    {% for subobject in object.get_subobjects %}
    {% if (subobject.data.access in ['wo', 'rw'] and subobject.data.data.attribute or subobject.set != "none")  and object.remote %}
    &set{{subobject.cpp_instance_name}},
    {%else%}
    emptySetter,
    {% endif %}
    {% endfor %}
    {% endfor %}
};

// Object is a 24 bit number: (object << 8 | subobject)
int32_t remoteGetterBSTKeys[] = {
    {% for item in tree_array %}
    {% if item %}
    {{item[0]}},
    {% else %}
    -1,
    {% endif %}
    {% endfor %}
};

void (*remoteGetterBSTMap[])(Data &data) = {
    {% for item in tree_array %}
    {% if item %}
    &get{{item[1][0]}},
    {% else %}
    emptyGetter,
    {% endif %}
    {% endfor %}
};

{% set type_map = {
    'i16': 'REMOTE_TYPE__INT16',
    'u16': 'REMOTE_TYPE__UINT16',
    'i32': 'REMOTE_TYPE__INT32',
    'u32': 'REMOTE_TYPE__UINT32',
    'f32': 'REMOTE_TYPE__FLOAT32',
} %}

void (*remoteTypeBSTMap[])(Data &data) = {
    {% for item in tree_array %}
    {% if item %}
    {{ type_map.get(item[1][1], 'REMOTE_TYPE__UNKNOWN') }},
    {% else %}
    REMOTE_TYPE__UNKNOWN,
    {% endif %}
    {% endfor %}
};